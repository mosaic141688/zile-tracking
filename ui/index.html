<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>Material Design Bootstrap</title>

    <script type="text/javascript" src="./node_modules/mdbootstrap/js/jquery-2.2.3.js">

    </script>

    <link rel="stylesheet" href="./style.css" media="screen" title="no title">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css">

    <!-- Bootstrap core CSS -->
    <link href="./node_modules/mdbootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Material Design Bootstrap -->
    <link href="./node_modules/mdbootstrap/css/mdb.min.css" rel="stylesheet">
        <script src="node_modules/socket.io-client/socket.io.js"></script>

    <!-- Your custom styles (optional) -->
    <link href="./node_modules/mdbootstrap/css/style.css" rel="stylesheet">
    <script src="node_modules/vue/dist/vue.js"></script>
     <base href="/">

     <script type="text/javascript">
     window.socket = io();

function loadVue() {
 new Vue({
   el: '#app',
   data: {
     message: 'Hello Vue.js!',
     user:null
   },
   created:function () {
     console.log("Hello World");
     //window.socket.on("count",(count)=>{this.message=count; console.log(user)});
     window.socket.on("auth",(_user)=> {
       this.user = _user;
       console.log($("#remember").val());
       $("#remember").prop('checked')? window.localStorage.setItem("uname",_user.name):null;
       $("#remember").prop('checked')? window.localStorage.setItem("pass",_user.password): null;
   });
   },
   methods:{
     method1:function () {
       return 5;
     },
     signout:function () {
       console.log("signout");
       $("#loginbox").show("slow");
       $("#app").hide("slow");
       this.user=null;
       window.localStorage.clear();
     }
   },
   computed:{
     b:function () {
       return this.method1();
     }
   }
 })
}

 $("document").ready(function () {
    $("#content").load("/map.html");


    (function() {
      var sch=window.localStorage.getItem("school");
    //  var _pass = window.localStorage.getItem("pass");
  //    console.log(_pass);
      sch?$("#overlay").hide("slow"):$('#overlay').load('/signup.html');
    })();


    console.log("DOcument Loaded");


    $("#loginbtn").click(()=>{
    socket.emit("login",{uname:$("#user-name").val(),pass:$("#password").val()})});

    socket.on("login-error",function(le){
      document.getElementById("error-box").innerHTML=le;
    });

    window.socket.on("auth",(_user)=> {
      window.user = _user;
    $("#loginbox").hide("slow");
//    $("#app").show("slow");
 });

 });

 function loadMap(){
     $("#content").load("/map.html");
 }

 function loadDeviceList(){
    $("#content").load("/devices.html");
 }

 function loadDeviceReg(){
    $("#content").load("dev-reg.html");
 }

 function loadLostDevices(){
    $("#content").load("lost-dev.html");
 }

     </script>

</head>

<body>


    <!-- Start your project here-->
<div id="overlay">
Loading.....
</div>

<header>
  <!--Navbar-->
  <nav class="navbar navbar-dark bg-primary">

      <!-- Collapse button-->
      <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#collapseEx2">
          <i class="fa fa-bars"></i>
      </button>

      <div class="container">

          <!--Collapse content-->
          <div class="collapse navbar-toggleable-xs" id="collapseEx2">
              <!--Navbar Brand-->
              <a class="navbar-brand" href="#">My Zile</a>
              <!--Links-->
              <ul class="nav navbar-nav">
                  <li class="nav-item active">
                      <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="#">Features</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="#">Support</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="#">About</a>
                  </li>
              </ul>
              <!--Search form-->
              <form class="form-inline">
                <div class="nav-btn btn btn-default">
                  Logout
                </div>
              </form>
          </div>
          <!--/.Collapse content-->

      </div>

  </nav>
  <!--/.Navbar-->
</header>

<main style="height: 100%;">

<div class="row" style="height: 100%;">
    <div class="col-md-3">
<!--Card-->
<div class="card">

    <!--Card image-->
    <img class="img-fluid" src="http://mdbootstrap.com/images/regular/nature/img%20(28).jpg" alt="Card image cap">
    <!--/.Card image-->

    <!--Card content-->
    <div class="card-block">
        <!--Title-->
        <h4 class="card-title">Menu</h4>
        <!-- Nav tabs -->
        <!-- Nav tabs -->
<ul class="nav nav-tabs md-pills pills-default" role="tablist">
<li onclick="loadMap()"><a class="nav-btn btn btn-default"><i class="fa fa-map left"></i>Map</a></li>
<li><a class="nav-btn btn btn-default"><i class="fa fa-university left"></i>School Profile</a></li>
<li  onclick="loadDeviceList()"><a class="nav-btn btn btn-default"><i class="fa fa-tablet left"></i>Device List</a></li>
<li onclick="loadDeviceReg()"><a class="nav-btn btn btn-default"><i class="fa fa-tablet left"></i>Add a Device</a></li>
<li  onclick="loadLostDevices()" ><a class="nav-btn btn btn-default"><i class="fa fa-tablet left"></i>Lost Devices</a></li>

</ul>

    </div>
    <!--/.Card content-->

</div>
    </div>
    <div class="col-md-9" style="height: 100%;">
      <!--Card-->
      <div class="card"  style="height: 100%;">

          <div class="card-block"  style="height: 100%;">
              <!--Title-->
              <h4 class="card-title">Card title</h4>
              <div id="content">

          </div>
          <!--/.Card content-->
      </div>
    </div>
</div>
</div>
</main>

<footer>
</footer>

    <!-- /Start your project here-->


    <!-- SCRIPTS -->

    <!-- JQuery -->
    <script type="text/javascript" src="./node_modules/mdbootstrap/js/jquery-2.2.3.min.js"></script>

    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="./node_modules/mdbootstrap/js/tether.min.js"></script>

    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="./node_modules/mdbootstrap/js/bootstrap.min.js"></script>

    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="./node_modules/mdbootstrap/js/mdb.min.js"></script>


</body>

</html>
